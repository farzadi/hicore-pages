(window.webpackJsonp=window.webpackJsonp||[]).push([[12],{292:function(t,e,a){"use strict";a.r(e);var s=a(10),n=Object(s.a)({},(function(){var t=this,e=t._self._c;return e("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[e("h1",{attrs:{id:"installation"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#installation"}},[t._v("#")]),t._v(" Installation")]),t._v(" "),e("p",[t._v("You can easily run Hicore server on Docker by following these steps")]),t._v(" "),e("h2",{attrs:{id:"install-docker"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#install-docker"}},[t._v("#")]),t._v(" Install Docker")]),t._v(" "),e("p",[t._v("You can run the server simply by using Docker but before that, make sure you were installed "),e("code",[t._v("docker")]),t._v(" and "),e("code",[t._v("docker-compose")]),t._v(". if you have installed docker you can skip this part and go to "),e("a",{attrs:{href:"#install-the-hicore-server"}},[t._v("Install The Hicore Server")]),t._v(".")]),t._v(" "),e("h3",{attrs:{id:"linux"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#linux"}},[t._v("#")]),t._v(" Linux")]),t._v(" "),e("h3",{attrs:{id:"step-1-update-software-repositories-for-installing-docker"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#step-1-update-software-repositories-for-installing-docker"}},[t._v("#")]),t._v(" Step 1: Update Software Repositories For Installing Docker")]),t._v(" "),e("p",[t._v("It’s a good idea to update the local database of software to make sure you’ve got access to the latest revisions.")]),t._v(" "),e("p",[t._v("Open a terminal window and type:")]),t._v(" "),e("div",{staticClass:"language-bash extra-class"},[e("pre",{pre:!0,attrs:{class:"language-bash"}},[e("code",[e("span",{pre:!0,attrs:{class:"token function"}},[t._v("sudo")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("apt-get")]),t._v(" update\n")])])]),e("h3",{attrs:{id:"step-2-uninstall-old-versions-of-docker"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#step-2-uninstall-old-versions-of-docker"}},[t._v("#")]),t._v(" Step 2: Uninstall Old Versions of Docker")]),t._v(" "),e("p",[t._v("Next, it’s recommended to uninstall any old Docker software before proceeding.")]),t._v(" "),e("p",[t._v("Use the command:")]),t._v(" "),e("div",{staticClass:"language-bash extra-class"},[e("pre",{pre:!0,attrs:{class:"language-bash"}},[e("code",[e("span",{pre:!0,attrs:{class:"token function"}},[t._v("sudo")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("apt-get")]),t._v(" remove "),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("docker")]),t._v(" docker-engine docker.io\n")])])]),e("h3",{attrs:{id:"step-3-install-docker"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#step-3-install-docker"}},[t._v("#")]),t._v(" Step 3: Install Docker")]),t._v(" "),e("p",[t._v("To install Docker on Ubuntu, in the terminal window enter the command:")]),t._v(" "),e("div",{staticClass:"language-bash extra-class"},[e("pre",{pre:!0,attrs:{class:"language-bash"}},[e("code",[e("span",{pre:!0,attrs:{class:"token function"}},[t._v("sudo")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("apt")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("install")]),t._v(" docker.io\n")])])]),e("h3",{attrs:{id:"step-4-start-and-automate-docker"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#step-4-start-and-automate-docker"}},[t._v("#")]),t._v(" Step 4: Start and Automate Docker")]),t._v(" "),e("p",[t._v("The Docker service needs to be setup to run at startup. To do so, type in each command followed by enter:")]),t._v(" "),e("div",{staticClass:"language-bash extra-class"},[e("pre",{pre:!0,attrs:{class:"language-bash"}},[e("code",[e("span",{pre:!0,attrs:{class:"token function"}},[t._v("sudo")]),t._v(" systemctl start "),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("docker")]),t._v("\n")])])]),e("div",{staticClass:"language-bash extra-class"},[e("pre",{pre:!0,attrs:{class:"language-bash"}},[e("code",[e("span",{pre:!0,attrs:{class:"token function"}},[t._v("sudo")]),t._v(" systemctl "),e("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v("enable")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("docker")]),t._v("\n")])])]),e("h2",{attrs:{id:"install-docker-compose"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#install-docker-compose"}},[t._v("#")]),t._v(" Install Docker Compose")]),t._v(" "),e("p",[t._v("Installing "),e("code",[t._v("docker-compose")]),t._v(" requires only a single step. Execute the bellow apt command:")]),t._v(" "),e("div",{staticClass:"language-bash extra-class"},[e("pre",{pre:!0,attrs:{class:"language-bash"}},[e("code",[t._v(" "),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("sudo")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("apt")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("install")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("docker-compose")]),t._v("\n")])])]),e("h2",{attrs:{id:"install-the-hicore-server"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#install-the-hicore-server"}},[t._v("#")]),t._v(" Install The Hicore Server")]),t._v(" "),e("h3",{attrs:{id:"step-1-clone-project"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#step-1-clone-project"}},[t._v("#")]),t._v(" Step 1: Clone Project")]),t._v(" "),e("p",[t._v("For deploying server you should first clone the repository from Github for doing this in the terminal window enter the command:")]),t._v(" "),e("div",{staticClass:"language-bash extra-class"},[e("pre",{pre:!0,attrs:{class:"language-bash"}},[e("code",[t._v(" "),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("git")]),t._v(" clone https://github.com/hicore/hicore.git\n")])])]),e("h3",{attrs:{id:"step-2-change-docker-compose-file"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#step-2-change-docker-compose-file"}},[t._v("#")]),t._v(" Step 2: Change Docker Compose File")]),t._v(" "),e("p",[t._v("change "),e("code",[t._v("docker-compose")]),t._v(" file. go to the project directory and open "),e("code",[t._v("docker-compose.yml")]),t._v(" file and change the variable's as your needs.")]),t._v(" "),e("div",{staticClass:"language-yaml extra-class"},[e("pre",{pre:!0,attrs:{class:"language-yaml"}},[e("code",[e("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("version")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token string"}},[t._v("'3'")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("services")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n  "),e("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("mongo")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n    "),e("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("image")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" mongo"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("latest\n    "),e("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("environment")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n      "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v(" MONGO_INITDB_ROOT_USERNAME=admin\n      "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v(" MONGO_INITDB_ROOT_PASSWORD=password\n  "),e("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("mothership")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n    "),e("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("build")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" .\n    "),e("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("ports")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n      "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token string"}},[t._v("'7192:7192'")]),t._v("\n    "),e("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("environment")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n      "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v(" DB_NAME=hicore\n      "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v(" DB_HOST=mongo\n      "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v(" DB_USERNAME=admin\n      "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v(" DB_PASSWORD=password\n      "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v(" SERVER_PORT=7192\n    "),e("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("restart")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" always\n    "),e("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("depends_on")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n      "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v(" mongo\n  "),e("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("child")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n    "),e("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("build")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" ./childServer\n    "),e("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("ports")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n      "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token string"}},[t._v("'7100:7100/udp'")]),t._v("\n    "),e("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("environment")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n      "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v(" CHILD_PORT=7100\n      "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v(" MOTHERSHIP_HOST=mothership\n      "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v(" MOTHERSHIP_PORT=7192\n    "),e("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("restart")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" always\n    "),e("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("depends_on")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n      "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v(" mothership\n    "),e("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("command")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" sh "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v('c "/usr/wait'),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v("for"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v("it.sh "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v("timeout=0 mothership"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("7192 "),e("span",{pre:!0,attrs:{class:"token important"}},[t._v("&&")]),t._v(' ./out/child"\n')])])]),e("h4",{attrs:{id:"mongo-config"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#mongo-config"}},[t._v("#")]),t._v(" Mongo Config")]),t._v(" "),e("table",[e("thead",[e("tr",[e("th",[t._v("Key")]),t._v(" "),e("th",{staticStyle:{"text-align":"left"}},[t._v("Description")])])]),t._v(" "),e("tbody",[e("tr",[e("td",[t._v("MONGO_INITDB_ROOT_USERNAME")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("mongodb username")])]),t._v(" "),e("tr",[e("td",[t._v("MONGO_INITDB_ROOT_PASSWORD")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("mongodb password")])])])]),t._v(" "),e("h4",{attrs:{id:"hicore-mothership-server-config"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#hicore-mothership-server-config"}},[t._v("#")]),t._v(" Hicore Mothership Server Config")]),t._v(" "),e("table",[e("thead",[e("tr",[e("th",[t._v("Key")]),t._v(" "),e("th",{staticStyle:{"text-align":"left"}},[t._v("Description")])])]),t._v(" "),e("tbody",[e("tr",[e("td",[t._v("DB_NAME")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("database name")])]),t._v(" "),e("tr",[e("td",[t._v("DB_HOST")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("host name for connecting to mongodb")])]),t._v(" "),e("tr",[e("td",[t._v("DB_USERNAME")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("mongodb username is the same as "),e("code",[t._v("MONGO_INITDB_ROOT_USERNAME")])])]),t._v(" "),e("tr",[e("td",[t._v("DB_PASSWORD")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("mongodb password is the same as "),e("code",[t._v("MONGO_INITDB_ROOT_PASSWORD")])])]),t._v(" "),e("tr",[e("td",[t._v("DB_PORT")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("mongodb port. default is "),e("code",[t._v("27017")])])]),t._v(" "),e("tr",[e("td",[t._v("SERVER_PORT")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("mothership server port. default is "),e("code",[t._v("7192")])])]),t._v(" "),e("tr",[e("td",[t._v("SOCKET_KEY")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("mothership server socket key. default is "),e("code",[t._v("defaultKey")])])]),t._v(" "),e("tr",[e("td",[t._v("CHILD_SERVER_KEY")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("child server key . default is "),e("code",[t._v("defaultChildServerKey")])])])])]),t._v(" "),e("h4",{attrs:{id:"hicore-child-server-config"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#hicore-child-server-config"}},[t._v("#")]),t._v(" Hicore Child Server Config")]),t._v(" "),e("table",[e("thead",[e("tr",[e("th",[t._v("Key")]),t._v(" "),e("th",{staticStyle:{"text-align":"left"}},[t._v("Description")])])]),t._v(" "),e("tbody",[e("tr",[e("td",[t._v("MOTHERSHIP_HOST")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("host name to connect mothership server")])]),t._v(" "),e("tr",[e("td",[t._v("MOTHERSHIP_PORT")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("port number to connect mothership server")])]),t._v(" "),e("tr",[e("td",[t._v("MOTHERSHIP_SOCKET_KEY")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("mothership socket key is the same as "),e("code",[t._v("SOCKET_KEY")])])]),t._v(" "),e("tr",[e("td",[t._v("CHILD_PORT")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("child server port. default is "),e("code",[t._v("7100")])])]),t._v(" "),e("tr",[e("td",[t._v("CHILD_SERVER_KEY")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("child server key same as "),e("code",[t._v("CHILD_SERVER_KEY")]),t._v(" in mothership config")])]),t._v(" "),e("tr",[e("td",[t._v("CHILD_SERVER_LOCATION")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("your server location(optional)")])]),t._v(" "),e("tr",[e("td",[t._v("CHILD_SERVER_CODE")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("your server code(optional)")])]),t._v(" "),e("tr",[e("td",[t._v("CHILD_SERVER_ID")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("your server id(optional)")])])])]),t._v(" "),e("h3",{attrs:{id:"step-3-run-docker-compose"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#step-3-run-docker-compose"}},[t._v("#")]),t._v(" Step 3: Run Docker Compose")]),t._v(" "),e("p",[t._v("After changing variables, you can simply build Docker container by using this command:")]),t._v(" "),e("div",{staticClass:"language-bash extra-class"},[e("pre",{pre:!0,attrs:{class:"language-bash"}},[e("code",[t._v(" "),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("docker-compose")]),t._v(" up "),e("span",{pre:!0,attrs:{class:"token parameter variable"}},[t._v("--build")]),t._v("\n")])])]),e("p",[t._v("In this stage Docker starts creating container and then the server is ready to use and Hicore runs on your machine.\nyou can connect to the Mothership Server at "),e("code",[t._v("localhost:7192")]),t._v(" and connect to the Child Server at "),e("code",[t._v("localhost:7100")])]),t._v(" "),e("p",[t._v("in case of changing the docker-compose file, make sure that stop container at first using this commend:")]),t._v(" "),e("div",{staticClass:"language-bash extra-class"},[e("pre",{pre:!0,attrs:{class:"language-bash"}},[e("code",[e("span",{pre:!0,attrs:{class:"token function"}},[t._v("docker-compose")]),t._v(" down "),e("span",{pre:!0,attrs:{class:"token parameter variable"}},[t._v("-v")]),t._v("\n")])])]),e("p",[t._v("And after that call this command again:")]),t._v(" "),e("div",{staticClass:"language-bash extra-class"},[e("pre",{pre:!0,attrs:{class:"language-bash"}},[e("code",[t._v(" "),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("docker-compose")]),t._v(" up "),e("span",{pre:!0,attrs:{class:"token parameter variable"}},[t._v("--build")]),t._v("\n")])])]),e("div",{staticClass:"custom-block warning"},[e("p",{staticClass:"custom-block-title"},[t._v("WARNING")]),t._v(" "),e("p",[t._v("In production, change keys in "),e("code",[t._v("keys")]),t._v(" folder")])]),t._v(" "),e("div",{staticClass:"custom-block danger"},[e("p",{staticClass:"custom-block-title"},[t._v("DANGER")]),t._v(" "),e("p",[t._v("If you want to change your configuration and build a container again you lose all your data")])])])}),[],!1,null,null,null);e.default=n.exports}}]);